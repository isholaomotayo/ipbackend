(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["career-category"],{"0bf8":function(t,e,a){},1799:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contacts--list__footer"},[a("ul",{staticClass:"pagination"},[0===t.prev?a("li",{staticClass:"pagination__item prev button__disabled"},[a("span",{staticClass:"icon"},[a("svg",{attrs:{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{fill:"none",d:"M0 0h20v20H0z"}}),a("path",{attrs:{d:"M16.667 9.167H6.526l4.658-4.659-1.183-1.175L3.334 10l6.667 6.667 1.175-1.175-4.65-4.659h10.141V9.167z",fill:"#C4C4C4"}})])]),t._v("Prev\n\t\t")]):a("li",{staticClass:"pagination__item"},[a("router-link",{attrs:{to:{name:t.baseUrl,query:{limit:t.limit,offset:t.offset(t.prev-1)}}}},[a("span",{staticClass:"icon"},[a("svg",{attrs:{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{fill:"none",d:"M0 0h20v20H0z"}}),a("path",{attrs:{d:"M16.667 9.167H6.526l4.658-4.659-1.183-1.175L3.334 10l6.667 6.667 1.175-1.175-4.65-4.659h10.141V9.167z",fill:"#C4C4C4"}})])]),t._v("Prev\n\t\t\t")])],1),t._l(t.pagesArray,function(e){return a("li",{key:e,class:{active:t.current===e}},[t.current!==e?a("router-link",{staticClass:"pagination__item",attrs:{to:{name:t.baseUrl,query:{limit:t.limit,offset:t.offset(e-1)}}}},[t._v(t._s(e)+"\n\t\t\t")]):a("span",{staticClass:"pagination__item current"},[t._v(t._s(e))])],1)}),t.current===t.endIndex?a("li",{staticClass:"pagination__item next button__disabled"},[t._v("\n\t\t\tNext\n\t\t\t\t"),a("span",{staticClass:"icon"},[a("svg",{attrs:{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{fill:"none",d:"M20 0H0v20h20z"}}),a("path",{attrs:{d:"M3.333 9.167h10.141L8.816 4.508l1.183-1.175L16.666 10l-6.667 6.667-1.175-1.175 4.65-4.659H3.333V9.167z",fill:"#fff"}})])])]):a("li",{staticClass:"pagination__item next"},[a("router-link",{attrs:{to:{name:t.baseUrl,query:{limit:t.limit,offset:t.offset(t.next-1)}}}},[t._v("\n\t\t\t\tNext\n\t\t\t\t"),a("span",{staticClass:"icon"},[a("svg",{attrs:{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{fill:"none",d:"M20 0H0v20h20z"}}),a("path",{attrs:{d:"M3.333 9.167h10.141L8.816 4.508l1.183-1.175L16.666 10l-6.667 6.667-1.175-1.175 4.65-4.659H3.333V9.167z",fill:"#fff"}})])])])],1)],2)])},r=[],i={name:"Pagination",props:{options:{type:Object,default:function(){return{limit:2,offset:0,total:0,baseUrl:"/"}}}},data:function(){return{total:this.options.total,limit:this.options.limit,baseUrl:this.options.baseUrl,maxPages:10,totalPages:null}},created:function(){this.totalPages=Math.ceil(this.total/this.maxPages)},computed:{pages:function(){return Math.min(Math.ceil(this.total/this.limit),this.maxPages)},current:function(){return Math.ceil(this.options.offset/this.limit)+1},prev:function(){return this.current>1?this.current-1:0},next:function(){return this.current<this.endIndex?this.current+1:0},pagesArray:function(){for(var t=[],e=this.startIndex;e<=this.endIndex;e++)t[e]=e;return t.splice(0,this.startIndex),t},startIndex:function(){var t=Math.ceil(this.maxPages/2);return this.current<=t?1:this.current===this.totalPages?this.totalPages-this.maxPages+1:this.current-t},endIndex:function(){return Math.min(this.startIndex+this.maxPages,this.totalPages)}},methods:{offset:function(t){return t<=0?0:this.limit*t}}},n=i,o=(a("5eaf"),a("2877")),c=Object(o["a"])(n,s,r,!1,null,null,null);c.options.__file="Pagination.vue";e["a"]=c.exports},3569:function(t,e,a){},4118:function(t,e,a){"use strict";var s=a("0bf8"),r=a.n(s);r.a},"555f":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("svg",{staticClass:"lds-spinner",staticStyle:{background:"none"},attrs:{width:"53px",height:"53px",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[a("g",{attrs:{transform:"rotate(0 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(30 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(60 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(90 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(120 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(150 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(180 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(210 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(240 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(270 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(300 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(330 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}})])])])]],2)},r=[],i={name:"Loader"},n=i,o=a("2877"),c=Object(o["a"])(n,s,r,!1,null,null,null);c.options.__file="Loader.vue";e["a"]=c.exports},"5eaf":function(t,e,a){"use strict";var s=a("3569"),r=a.n(s);r.a},"5fb8":function(t,e,a){"use strict";var s=a("7972"),r=a.n(s);r.a},7972:function(t,e,a){},bcd7:function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"l",function(){return o}),a.d(e,"d",function(){return c}),a.d(e,"k",function(){return u}),a.d(e,"p",function(){return l}),a.d(e,"r",function(){return d}),a.d(e,"f",function(){return m}),a.d(e,"g",function(){return f}),a.d(e,"e",function(){return h}),a.d(e,"c",function(){return g}),a.d(e,"a",function(){return v}),a.d(e,"o",function(){return p}),a.d(e,"q",function(){return b}),a.d(e,"m",function(){return y}),a.d(e,"j",function(){return _}),a.d(e,"n",function(){return C}),a.d(e,"i",function(){return x}),a.d(e,"h",function(){return w});a("cadf"),a("551c"),a("097d");var s=a("bc3a"),r=a.n(s),i=a("5f87");function n(t){return Object(i["c"])()?r.a.post("/v1/register",t):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function o(t,e){return Object(i["c"])()?r.a.get("/v1/users?limit=".concat(t,"&offset=").concat(e)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function c(t){return Object(i["c"])()?r.a.get("/v1/users/filter?".concat(t)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function u(t){return Object(i["c"])()?r.a.get("/v1/users/".concat(t)).then(function(t){return t}):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function l(t){return Object(i["c"])()?r.a.patch("/v1/users/".concat(t.id),t):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function d(t,e){return Object(i["c"])()?r.a.patch("/v1/users/".concat(t,"/avatar"),{file:e}):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function m(t,e){return Object(i["c"])()?r.a.get("/v1/categories?limit=".concat(t,"&offset=").concat(e)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function f(t){return Object(i["c"])()?r.a.get("/v1/categories/".concat(t)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function h(){return Object(i["c"])()?r.a.get("/v1/categories"):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function g(t){return Object(i["c"])()?r.a.delete("/v1/categories/".concat(t)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function v(t){return Object(i["c"])()?r.a.post("/v1/categories",t):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function p(t,e){return Object(i["c"])()?r.a.patch("/v1/categories/".concat(t),e):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function b(t,e){return Object(i["c"])()?r.a.patch("/v1/credentials/".concat(t),e):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function y(t){return Object(i["c"])()?r.a.post("/v1/recommendations",t):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function _(t){return Object(i["c"])()?r.a.get("/v1/users/".concat(t,"/certificates")):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function C(t){return Object(i["c"])()?r.a.get("/v1/users/search?query=".concat(t)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function x(){return Object(i["c"])()?r.a.get("/v1/states"):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function w(t){return Object(i["c"])()?r.a.get("/v1/states/".concat(t,"/cities")):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}},dc0a:function(t,e,a){"use strict";var s=a("f0b1"),r=a.n(s),i=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,7}$/gm,n=r.a.string().regex(i).options({language:{string:{regex:{base:"must be a valid phone number"}}}}),o={};o.create={fname:r.a.string().min(2).max(24).required(),lname:r.a.string().min(2).max(24).required(),email:r.a.string().email().required(),phone:n.required(),password:r.a.string().min(7).required(),state_id:r.a.number().required(),city_id:r.a.number().required()},o.update={fname:r.a.string().min(2).max(24),lname:r.a.string().min(2).max(24),email:r.a.string().email(),password:r.a.string().min(7),active:r.a.number(),id:r.a.number().min(1),avatar:r.a.string().min(2).max(24),career_category_id:r.a.number(),acl_id:r.a.number(),phone:n},o.category={name:r.a.string().min(2).required()},e["a"]=o},dc6d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loadingCategories?[a("div",{staticClass:"loading"},[a("Loader")],1)]:[a("div",{staticClass:"main__header"},[t._m(0),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn__primary",attrs:{type:"button",name:"button","data-toggle":"modal","data-target":"#categoryModal"}},[a("span",{staticClass:"btn__icon"},[a("svg",{attrs:{width:"24",height:"13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M8 5H5V2H3v3H0v2h3v3h2V7h3V5zm10 1c1.66 0 2.99-1.34 2.99-3S19.66 0 18 0c-.32 0-.63.05-.91.14.57.81.9 1.79.9 2.86 0 1.07-.34 2.04-.9 2.86.28.09.59.14.91.14zm-5 0c1.66 0 2.99-1.34 2.99-3S14.66 0 13 0c-1.66 0-3 1.34-3 3s1.34 3 3 3zm6.62 2.16C20.45 8.89 21 9.82 21 11v2h3v-2c0-1.54-2.37-2.49-4.38-2.84zM13 8c-2 0-6 1-6 3v2h12v-2c0-2-4-3-6-3z",fill:"#fff"}})])]),t._v("Add Category")])])]),a("section",{staticClass:"main-grid__row contacts contacts--list"},[a("div",{staticClass:"contacts--list__wrapper"},[t._m(1),a("div",{staticClass:"contacts__body"},[t.categoriesLoaded&&t.categories.length?t._l(t.categories,function(t){return a("CareerCategoryItem",{key:t.id,attrs:{category:t}})}):t.categoriesLoaded?[a("p",[t._v("No Category found")])]:[a("p",[t._v("An error occurred while loading categories, please try again.")])]],2)])])],t.total>t.limit?a("Pagination",{attrs:{options:{limit:t.limit,offset:t.offset,total:t.total,baseUrl:t.baseUrl}}}):t._e(),a("AddCareerCategory")],2)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main__primary"},[a("h3",{staticClass:"main__title"},[t._v("Career Categories")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contacts--list__item head"},[a("div"),a("p",[t._v("Basic info")]),a("p",[t._v("Actions")])])}],i=a("1799"),n=a("555f"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contacts--list__item"},[t._m(0),a("div",{staticClass:"contacts__info"},[a("p",{staticClass:"info__primary"},[t._v(t._s(t.category.name))])]),a("router-link",{staticClass:"btn btn__primary btn__primary--sm",attrs:{to:{name:"career-category-detail",params:{category:t.category,id:t.category.id}}}},[t._v("\n\t\tView Category\n\t")])],1)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"check"},[a("input",{attrs:{type:"checkbox"}}),a("div",{staticClass:"check-mark"})])}],u={name:"CareerCategoryItem",props:{category:{type:Object,default:function(){return{}}}}},l=u,d=(a("5fb8"),a("2877")),m=Object(d["a"])(l,o,c,!1,null,"7b3316ea",null);m.options.__file="CareerCategoryItem.vue";var f=m.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"categoryModal",tabindex:"-1",role:"dialog","aria-labelledby":"categoryModalTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body modal__body"},[a("form",{staticClass:"modal__form",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.createCareerCategory(e)}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"modal__label",attrs:{for:"category"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.itemData.name,expression:"itemData.name",modifiers:{trim:!0}}],staticClass:"form-control",class:[{"is-invalid":t.errors.name}],attrs:{type:"text",id:"category",placeholder:"Category Name"},domProps:{value:t.itemData.name},on:{keydown:function(e){t.clearErrors(e.target.name)},input:function(e){e.target.composing||t.$set(t.itemData,"name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),a("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.errors.name)+"\n\t\t\t\t\t\t")])])])]),a("div",{staticClass:"modal-footer modal__footer"},[t.loading?a("Loader"):t._e(),a("button",{staticClass:"btn btn--md",attrs:{type:"button","data-dismiss":"modal","aria-label":"close",name:"button"},on:{click:function(e){t.clearErrors()}}},[t._v("Cancel")]),a("button",{staticClass:"btn btn--md btn__primary",attrs:{type:"submit",name:"button"},on:{click:function(e){return e.preventDefault(),t.createCareerCategory(e)}}},[t._v("\n\t\t\t\t\tSave Category")])],1)])])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header modal__header"},[a("h3",{staticClass:"modal-title",attrs:{id:"categoryModalTitle"}},[t._v("Add Career Category")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],v=(a("ac6a"),a("456d"),a("be94")),p=a("e49c"),b=a("bcd7"),y=a("dc0a"),_=a("eae4"),C=a("8504"),x={name:"AddCareerCategory",mixins:[p["a"]],data:function(){return{itemData:{},errors:{},loading:!1}},components:{Loader:n["a"]},watch:{issues:function(t){this.errors=Object(v["a"])({},t)}},methods:{createCareerCategory:function(){var t=this;return this.validate(this.itemData,y["a"].category),Object.keys(this.issues).length?(this.errors=this.issues,!1):(this.loading=!0,Object(b["a"])(this.itemData).then(function(e){201===e.status&&(t.itemData={},t.loading=!1,C["a"].$emit("career-category-created",e.data),Object(_["b"])({title:"Success! A new category has been created"}))}).catch(function(e){return t.loading=!1,Object(_["a"])({title:"Oops! Something went wrong"}),e}),!0)}}},w=x,U=Object(d["a"])(w,h,g,!1,null,null,null);U.options.__file="AddCareerCategory.vue";var P=U.exports,k={name:"CareerCategories",data:function(){return{loadingCategories:!0,categories:{},categoriesLoaded:!1,limit:10,offset:0,total:0,baseUrl:"careercategories"}},created:function(){var t=this;this.limit=this.$route.query.limit?this.$route.query.limit:this.limit,this.offset=this.$route.query.offset?this.$route.query.offset:this.offset,this.getCareerCategories(),C["a"].$on("career-category-created",function(e){t.categories.unshift(e)})},watch:{$route:function(){this.limit=this.$route.query.limit?this.$route.query.limit:10,this.offset=this.$route.query.offset?this.$route.query.offset:0,this.getCareerCategories()}},components:{Loader:n["a"],CareerCategoryItem:f,Pagination:i["a"],AddCareerCategory:P},methods:{getCareerCategories:function(){var t=this;return Object(b["f"])(this.limit,this.offset).then(function(e){200===e.status&&(t.categories=e.data.data,t.total=e.data.total,t.categoriesLoaded=!0)}).catch(function(e){return t.loadingCategories=!1,t.categoriesLoaded=!1,e}).finally(function(){t.loadingCategories=!1}),!0}}},j=k,O=(a("4118"),Object(d["a"])(j,s,r,!1,null,null,null));O.options.__file="CareerCategories.vue";e["default"]=O.exports}}]);
//# sourceMappingURL=career-category.7fa21405.js.map