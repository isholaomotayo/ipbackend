(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["forum"],{"0a49":function(t,e,i){var r=i("9b43"),a=i("626a"),s=i("4bf8"),n=i("9def"),o=i("cd1c");t.exports=function(t,e){var i=1==t,u=2==t,c=3==t,l=4==t,f=6==t,d=5==t||f,m=e||o;return function(e,o,h){for(var p,g,v=s(e),_=a(v),y=r(o,h,3),b=n(_.length),x=0,w=i?m(e,b):u?m(e,0):void 0;b>x;x++)if((d||x in _)&&(p=_[x],g=y(p,x,v),t))if(i)w[x]=g;else if(g)switch(t){case 3:return!0;case 5:return p;case 6:return x;case 2:w.push(p)}else if(l)return!1;return f?-1:c||l?l:w}}},1169:function(t,e,i){var r=i("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},1799:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contacts--list__footer"},[i("ul",{staticClass:"pagination"},[0===t.prev?i("li",{staticClass:"pagination__item prev button__disabled"},[i("span",{staticClass:"icon"},[i("svg",{attrs:{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{fill:"none",d:"M0 0h20v20H0z"}}),i("path",{attrs:{d:"M16.667 9.167H6.526l4.658-4.659-1.183-1.175L3.334 10l6.667 6.667 1.175-1.175-4.65-4.659h10.141V9.167z",fill:"#C4C4C4"}})])]),t._v("Prev\n\t\t")]):i("li",{staticClass:"pagination__item"},[i("router-link",{attrs:{to:{name:t.baseUrl,query:{limit:t.limit,offset:t.offset(t.prev-1)}}}},[i("span",{staticClass:"icon"},[i("svg",{attrs:{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{fill:"none",d:"M0 0h20v20H0z"}}),i("path",{attrs:{d:"M16.667 9.167H6.526l4.658-4.659-1.183-1.175L3.334 10l6.667 6.667 1.175-1.175-4.65-4.659h10.141V9.167z",fill:"#C4C4C4"}})])]),t._v("Prev\n\t\t\t")])],1),t._l(t.pagesArray,function(e){return i("li",{key:e,class:{active:t.current===e}},[t.current!==e?i("router-link",{staticClass:"pagination__item",attrs:{to:{name:t.baseUrl,query:{limit:t.limit,offset:t.offset(e-1)}}}},[t._v(t._s(e)+"\n\t\t\t")]):i("span",{staticClass:"pagination__item current"},[t._v(t._s(e))])],1)}),t.current===t.endIndex?i("li",{staticClass:"pagination__item next button__disabled"},[t._v("\n\t\t\tNext\n\t\t\t\t"),i("span",{staticClass:"icon"},[i("svg",{attrs:{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{fill:"none",d:"M20 0H0v20h20z"}}),i("path",{attrs:{d:"M3.333 9.167h10.141L8.816 4.508l1.183-1.175L16.666 10l-6.667 6.667-1.175-1.175 4.65-4.659H3.333V9.167z",fill:"#fff"}})])])]):i("li",{staticClass:"pagination__item next"},[i("router-link",{attrs:{to:{name:t.baseUrl,query:{limit:t.limit,offset:t.offset(t.next-1)}}}},[t._v("\n\t\t\t\tNext\n\t\t\t\t"),i("span",{staticClass:"icon"},[i("svg",{attrs:{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{fill:"none",d:"M20 0H0v20h20z"}}),i("path",{attrs:{d:"M3.333 9.167h10.141L8.816 4.508l1.183-1.175L16.666 10l-6.667 6.667-1.175-1.175 4.65-4.659H3.333V9.167z",fill:"#fff"}})])])])],1)],2)])},a=[],s={name:"Pagination",props:{options:{type:Object,default:function(){return{limit:2,offset:0,total:0,baseUrl:"/"}}}},data:function(){return{total:this.options.total,limit:this.options.limit,baseUrl:this.options.baseUrl,maxPages:10,totalPages:null}},created:function(){this.totalPages=Math.ceil(this.total/this.maxPages)},computed:{pages:function(){return Math.min(Math.ceil(this.total/this.limit),this.maxPages)},current:function(){return Math.ceil(this.options.offset/this.limit)+1},prev:function(){return this.current>1?this.current-1:0},next:function(){return this.current<this.endIndex?this.current+1:0},pagesArray:function(){for(var t=[],e=this.startIndex;e<=this.endIndex;e++)t[e]=e;return t.splice(0,this.startIndex),t},startIndex:function(){var t=Math.ceil(this.maxPages/2);return this.current<=t?1:this.current===this.totalPages?this.totalPages-this.maxPages+1:this.current-t},endIndex:function(){return Math.min(this.startIndex+this.maxPages,this.totalPages)}},methods:{offset:function(t){return t<=0?0:this.limit*t}}},n=s,o=(i("5eaf"),i("2877")),u=Object(o["a"])(n,r,a,!1,null,null,null);u.options.__file="Pagination.vue";e["a"]=u.exports},3569:function(t,e,i){},"555f":function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[[i("svg",{staticClass:"lds-spinner",staticStyle:{background:"none"},attrs:{width:"53px",height:"53px",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[i("g",{attrs:{transform:"rotate(0 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}})])]),i("g",{attrs:{transform:"rotate(30 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}})])]),i("g",{attrs:{transform:"rotate(60 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}})])]),i("g",{attrs:{transform:"rotate(90 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}})])]),i("g",{attrs:{transform:"rotate(120 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}})])]),i("g",{attrs:{transform:"rotate(150 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}})])]),i("g",{attrs:{transform:"rotate(180 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}})])]),i("g",{attrs:{transform:"rotate(210 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}})])]),i("g",{attrs:{transform:"rotate(240 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}})])]),i("g",{attrs:{transform:"rotate(270 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}})])]),i("g",{attrs:{transform:"rotate(300 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}})])]),i("g",{attrs:{transform:"rotate(330 50 50)"}},[i("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}})])])])]],2)},a=[],s={name:"Loader"},n=s,o=i("2877"),u=Object(o["a"])(n,r,a,!1,null,null,null);u.options.__file="Loader.vue";e["a"]=u.exports},"5eaf":function(t,e,i){"use strict";var r=i("3569"),a=i.n(r);a.a},7514:function(t,e,i){"use strict";var r=i("5ca1"),a=i("0a49")(5),s="find",n=!0;s in[]&&Array(1)[s](function(){n=!1}),r(r.P+r.F*n,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(s)},9542:function(t,e,i){"use strict";var r=i("ce21"),a=i.n(r);a.a},bb5d:function(t,e,i){},bd85:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.loadingForum?[i("div",{staticClass:"loading"},[i("Loader")],1)]:[t._m(0),i("section",{staticClass:"main-grid__row contacts contacts--list"},[i("div",{staticClass:"contacts--list__wrapper"},[t._m(1),i("div",{staticClass:"contacts__body"},[t.forumLoaded&&t.fora.length?t._l(t.fora,function(t){return i("ForumItem",{key:t.id,attrs:{forum:t}})}):t.forumLoaded?[i("p",[t._v("No Forum found")])]:[i("p",[t._v("An error occurred while loading fora, please try again.")])]],2)])])],t.total>t.limit?i("pagination",{attrs:{options:{limit:t.limit,offset:t.offset,total:t.total,baseUrl:t.baseUrl}}}):t._e()],2)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main__header"},[i("div",{staticClass:"main__primary"},[i("h3",{staticClass:"main__title"},[t._v("Forum")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contacts--list__item head"},[i("div"),i("p",[t._v("Title")]),i("p",[t._v("Actions")])])}],s=(i("7514"),i("c85d")),n=i("555f"),o=i("1799"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"contacts--list__item"},[t._m(0),i("div",{key:t.forum.id,staticClass:"contacts__info"},[i("p",{staticClass:"info__name"},[t._v(t._s(t.forum.title))])]),i("p",{staticClass:"btn__row"},[i("button",{staticClass:"btn btn__danger",on:{click:t.handleDelete}},[t._v("Delete")]),i("router-link",{staticClass:"btn btn__primary",attrs:{to:{name:"forum-thread",params:{id:t.forum.id}}}},[t._v("\n\t\t\t\tView Forum\n\t\t\t")])],1)])])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"check"},[i("input",{attrs:{type:"checkbox"}}),i("div",{staticClass:"check-mark"})])}],l=i("8504"),f={name:"ForumItem",props:{forum:{type:Object,default:function(){return{}}}},methods:{handleDelete:function(){l["a"].$emit("delete-forum",this.forum.id)}}},d=f,m=(i("9542"),i("2877")),h=Object(m["a"])(d,u,c,!1,null,"53dca2f2",null);h.options.__file="ForumItem.vue";var p=h.exports,g=i("eae4"),v={name:"Index",data:function(){return{loadingForum:!0,forumLoaded:!1,fora:[],limit:10,offset:0,total:0,baseUrl:"forum",deletedForumId:""}},created:function(){var t=this;this.limit=this.$route.query.limit?this.$route.query.limit:this.limit,this.offset=this.$route.query.offset?this.$route.query.offset:this.offset,this.getForumList(),l["a"].$on("delete-forum",function(e){return t.deletedForumId=e,t.deleteForum(e),!0})},methods:{getForumList:function(){var t=this;return Object(s["d"])(this.limit,this.offset).then(function(e){return 200===e.status?(t.loadingForum=!1,t.forumLoaded=!0,t.fora=e.data.data,t.total=e.data.total,!0):(t.forumLoaded=!1,!1)}).catch(function(e){return t.forumLoaded=!1,t.loadingForum=!1,e}),!0},deleteForum:function(t){var e=this;return Object(s["b"])(t).then(function(t){if(200===t.status){Object(g["b"])({title:"Success! Forum has been deleted"});var i=e.fora.find(function(t){return t.id===e.deletedForumId});return e.fora.splice(e.fora.indexOf(i),1),!0}return!1}).catch(function(t){return Object(g["a"])({title:"Oops! Something went wrong. Please try again."}),t}),!0}},watch:{$route:function(){this.limit=this.$route.query.limit?this.$route.query.limit:10,this.offset=this.$route.query.offset?this.$route.query.offset:0,this.getForumList()}},components:{Loader:n["a"],Pagination:o["a"],ForumItem:p}},_=v,y=(i("d402"),Object(m["a"])(_,r,a,!1,null,"50162c50",null));y.options.__file="Index.vue";e["default"]=y.exports},c85d:function(t,e,i){"use strict";i.d(e,"e",function(){return n}),i.d(e,"f",function(){return o}),i.d(e,"a",function(){return u}),i.d(e,"i",function(){return c}),i.d(e,"d",function(){return l}),i.d(e,"b",function(){return f}),i.d(e,"g",function(){return d}),i.d(e,"c",function(){return m}),i.d(e,"h",function(){return h});var r=i("bc3a"),a=i.n(r),s=i("5f87");function n(t,e){return Object(s["c"])()?a.a.get("/v1/forumcategories?limit=".concat(t,"&offset=").concat(e)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function o(t){return Object(s["c"])()?a.a.get("/v1/forumcategories/".concat(t)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function u(t){return Object(s["c"])()?a.a.post("/v1/forumcategories",t):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function c(t,e){return Object(s["c"])()?a.a.patch("/v1/forumcategories/".concat(t),e):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function l(t,e){return Object(s["c"])()?a.a.get("/v1/forum?limit=".concat(t,"&offset=").concat(e)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function f(t){return Object(s["c"])()?a.a.delete("/v1/forum/".concat(t)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function d(t,e,i){return Object(s["c"])()?a.a.get("/v1/forum/".concat(t,"?limit=").concat(e,"&offset=").concat(i)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function m(t,e){return Object(s["c"])()?a.a.delete("/v1/forum/".concat(t,"/thread/").concat(e)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function h(t,e){return Object(s["c"])()?a.a.get("/v1/forum/".concat(t,"/thread/").concat(e)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}},cd1c:function(t,e,i){var r=i("e853");t.exports=function(t,e){return new(r(t))(e)}},ce21:function(t,e,i){},d402:function(t,e,i){"use strict";var r=i("bb5d"),a=i.n(r);a.a},e853:function(t,e,i){var r=i("d3f4"),a=i("1169"),s=i("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),r(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=forum.6c5f67b9.js.map