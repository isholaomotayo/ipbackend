(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["badge-detail"],{"214f":function(t,e,a){"use strict";var i=a("32e9"),r=a("2aba"),s=a("79e5"),n=a("be13"),o=a("2b4c");t.exports=function(t,e,a){var l=o(t),c=a(n,l,""[t]),u=c[0],d=c[1];s(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,u),i(RegExp.prototype,l,2==e?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)}))}},"261b":function(t,e,a){"use strict";a.d(e,"d",function(){return n}),a.d(e,"c",function(){return o}),a.d(e,"b",function(){return l}),a.d(e,"a",function(){return c}),a.d(e,"e",function(){return u});a("cadf"),a("551c"),a("097d");var i=a("bc3a"),r=a.n(i),s=a("5f87");function n(t,e){return Object(s["c"])()?r.a.get("/v1/badges?limit=".concat(t,"&offset=").concat(e)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function o(t){return Object(s["c"])()?r.a.get("/v1/badges/".concat(t)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function l(t){return Object(s["c"])()?r.a.delete("/v1/badges/".concat(t)):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function c(t){return Object(s["c"])()?r.a.post("/v1/badges",t):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}function u(t,e){return Object(s["c"])()?r.a.patch("/v1/badges/".concat(t),e):Promise.resolve(new Response({message:"Unauthorised"},{status:403,statusText:"Unauthorised"}))}},"45a0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.loadingBadge?[i("div",{staticClass:"loading"},[i("Loader")],1)]:[i("section",{staticClass:"main-grid__row user-profile"},[i("div",{staticClass:"user-profile__card"},[i("div",{staticClass:"user-profile__avatar"},[t.itemData.avatar?i("img",{attrs:{src:t.itemData.avatar,alt:"Profile picture"}}):i("img",{attrs:{src:a("4966"),alt:"User profile picture"}})]),t._m(0),i("div",{staticClass:"user-profile__item"},[i("h5",{staticClass:"user-profile__section__title"},[t._v("Badge Name:")]),i("p",[t._v(t._s(t.itemData.name))])]),"administrator"===t.getLoggedUser.category?i("div",[i("button",{staticClass:"btn btn__danger",on:{click:t.deleteBadge}},[t._v("Delete")]),t.deletingBadge?i("Loader"):t._e()],1):t._e()]),i("div",{staticClass:"user-profile__tabs"},[t._m(1),i("div",{staticClass:"tab-pane fade show active user-profile__tabs__section",attrs:{id:"activity",role:"tabpanel","aria-labelledby":"activity-tab"}},[i("div",{staticClass:"settings"},[i("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.updateBadge(e)}}},[i("div",{staticClass:"settings__primary"},[i("div",{staticClass:"settings__avatar"},[t.itemData.avatar&&"fake.jpg"!==t.itemData.avatar?i("img",{attrs:{src:t.itemData.avatar,alt:"Profile picture"}}):i("img",{attrs:{src:a("4966"),alt:"user avatar"}}),i("span",{staticClass:"icon icon--edit"},[i("label",{staticClass:"avatar__label",attrs:{for:"upload-image"}},[i("input",{ref:"avatar",staticClass:"avatar__input",attrs:{id:"upload-image",type:"file",accept:"image/*"},on:{change:t.changeAvatar}}),i("svg",{attrs:{width:"9",height:"9",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{fill:"none",d:"M0 0h9v9H0z"}}),i("path",{attrs:{d:"M1.125 6.468v1.407h1.406L6.68 3.727 5.272 2.321 1.125 6.468zM7.766 2.64a.373.373 0 0 0 0-.529l-.877-.878a.373.373 0 0 0-.529 0l-.686.687L7.08 3.326l.686-.686z",fill:"#fff"}})])])]),i("div",{staticClass:"avatar__loader"},[t.loading?i("loader",{attrs:{size:"small"}}):t._e()],1)])]),i("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.errors.avatar)+"\n\t\t\t\t\t\t\t")]),i("div",{staticClass:"settings__field"},[i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-6"},[i("div",{staticClass:"settings__value"},[i("label",{attrs:{for:"jobTitle"}},[t._v("Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.itemData.name,expression:"itemData.name"}],staticClass:"form-control",class:[{"is-invalid":t.errors.name}],attrs:{name:"title",value:"",type:"text",id:"jobTitle"},domProps:{value:t.itemData.name},on:{keydown:function(e){t.clearErrors(e.target.name)},input:function(e){e.target.composing||t.$set(t.itemData,"name",e.target.value)}}})]),i("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.errors.name)+"\n\t\t\t\t\t\t\t\t\t\t")])]),i("div",{staticClass:"form-group col-md-6"},[i("div",{staticClass:"settings__value"},[i("label",{attrs:{for:"badge"}},[t._v("Value")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.itemData.value,expression:"itemData.value",modifiers:{trim:!0}}],staticClass:"form-control",class:[{"is-invalid":t.errors.value}],attrs:{type:"number",id:"badge",placeholder:"Badge Value"},domProps:{value:t.itemData.value},on:{keydown:function(e){t.clearErrors(e.target.name)},input:function(e){e.target.composing||t.$set(t.itemData,"value",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),i("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.errors.value)+"\n\t\t\t\t\t\t\t\t\t\t\t")])])])]),i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-6"},[i("div",{staticClass:"settings__value"},[i("label",{attrs:{for:"action"}},[t._v("Select an action")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.itemData.action,expression:"itemData.action"}],staticClass:"custom-select form-control",class:[{"is-invalid":t.errors.action}],attrs:{id:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.itemData,"action",e.target.multiple?a:a[0])}}},[i("option",{attrs:{value:"exams"}},[t._v("Exams")]),i("option",{attrs:{value:"forum"}},[t._v("Forum")])]),i("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.errors.action)+"\n\t\t\t\t\t\t\t\t\t\t\t")])])]),i("div",{staticClass:"form-group col-md-6"},[i("div",{staticClass:"settings__value"},[i("label",{attrs:{for:"action"}},[t._v("Select a criteria")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.itemData.criteria,expression:"itemData.criteria"}],staticClass:"custom-select form-control",class:[{"is-invalid":t.errors.criteria}],attrs:{id:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.itemData,"criteria",e.target.multiple?a:a[0])}}},[i("option",{attrs:{value:">"}},[t._v("Gretaer Than")]),i("option",{attrs:{value:"<"}},[t._v("Less Than")]),i("option",{attrs:{value:"="}},[t._v("Equal To")])]),i("div",{staticClass:"invalid-feedback"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.errors.criteria)+"\n\t\t\t\t\t\t\t\t\t\t\t")])])])])]),i("div",{staticClass:"settings__primary"},[i("button",t._b({staticClass:"btn btn__save",attrs:{type:"button",name:"button"},on:{click:function(e){return e.preventDefault(),t.updateBadge(e)}}},"button",{disabled:t.loading},!1),[t._v("\n\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t")]),t.loading?i("Loader"):t._e()],1)])])])])])]],2)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-profile__primary"},[a("h3",{staticClass:"user-profile__name"},[t._v("Badge Detail Section")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"activity-tab","data-toggle":"tab",href:"#activity",role:"tab","aria-controls":"activity","aria-selected":"false"}},[t._v("Edit Badge")])])])}],s=a("be94"),n=(a("4917"),a("ac6a"),a("456d"),a("2f62")),o=a("5118"),l=a("555f"),c=a("e49c"),u=a("261b"),d=a("eae4"),f=a("789f"),m={name:"BadgeDetail",mixins:[c["a"]],data:function(){return{itemData:{},errors:{},loadingBadge:!0,badgeLoaded:!1,loading:!1,deletingBadge:!1}},components:{Loader:l["a"]},created:function(){this.getBadge()},methods:{deleteBadge:function(){var t=this;return this.deletingBadge=!0,Object(u["b"])(this.$route.params.id).then(function(e){return 200===e.status&&(t.deletingBadge=!1,Object(d["b"])({title:"Success! Badge has been deleted!"}),Object(o["setTimeout"])(function(){t.$router.push("/badges")},500),!0)}).catch(function(e){return t.deletingBadge=!1,Object(d["a"])({title:"Ooops! Something went wrong. Pls try again."}),e}),!0},getBadge:function(){var t=this;return Object(u["c"])(this.$route.params.id).then(function(e){return 200===e.status?(t.itemData=e.data.data,t.badgeLoaded=!0,!0):(t.badgeLoaded=!1,!1)}).catch(function(e){return t.badgeLoaded=!1,e}).finally(function(){t.loadingBadge=!1}),!0},updateBadge:function(){var t=this,e=this.itemData;return delete e.created_at,delete e.updated_at,delete e.id,this.validate(e,f["a"].update),Object.keys(this.issues).length?(this.errors=this.issues,!1):(this.loading=!0,Object(u["e"])(this.$route.params.id,this.itemData).then(function(e){200===e.status&&(t.loading=!1,Object(d["b"])({title:"Success! Badge has been updated!"}))}).catch(function(e){return t.loading=!1,Object(d["a"])({title:"Ooops! Something went wrong. Pls try again."}),e}),!0)},changeAvatar:function(){var t=this,e=this.$refs.avatar.files[0],a=3*Math.pow(2,20);if(e&&e.type.match(/image\/*/)&&e.size>a)return errors.avatar="File size greater than 3MB",!1;var i=new FileReader;return i.onload=function(e){t.itemData.file=e.target.result},i.readAsDataURL(e),!0}},computed:Object(s["a"])({},Object(n["c"])(["getLoggedUser"]))},v=m,g=(a("56ae"),a("2877")),p=Object(g["a"])(v,i,r,!1,null,null,null);p.options.__file="BadgeDetail.vue";e["default"]=p.exports},4917:function(t,e,a){a("214f")("match",1,function(t,e,a){return[function(a){"use strict";var i=t(this),r=void 0==a?void 0:a[e];return void 0!==r?r.call(a,i):new RegExp(a)[e](String(i))},a]})},4966:function(t,e,a){t.exports=a.p+"img/user-profile.e682bfc8.png"},5118:function(t,e,a){(function(t){var i="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,r=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new s(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},a("6017"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,a("c8ba"))},"555f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("svg",{staticClass:"lds-spinner",staticStyle:{background:"none"},attrs:{width:"53px",height:"53px",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[a("g",{attrs:{transform:"rotate(0 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(30 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(60 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(90 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(120 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(150 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(180 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(210 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(240 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(270 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(300 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(330 50 50)"}},[a("rect",{attrs:{x:"47.5",y:"24",rx:"9.5",ry:"4.8",width:"5",height:"12",fill:"#28292f"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}})])])])]],2)},r=[],s={name:"Loader"},n=s,o=a("2877"),l=Object(o["a"])(n,i,r,!1,null,null,null);l.options.__file="Loader.vue";e["a"]=l.exports},"56ae":function(t,e,a){"use strict";var i=a("d44d"),r=a.n(i);r.a},6017:function(t,e,a){(function(t,e){(function(t,a){"use strict";if(!t.setImmediate){var i,r=1,s={},n=!1,o=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?m():v()?g():t.MessageChannel?p():o&&"onreadystatechange"in o.createElement("script")?h():b(),l.setImmediate=c,l.clearImmediate=u}function c(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),a=0;a<e.length;a++)e[a]=arguments[a+1];var n={callback:t,args:e};return s[r]=n,i(r),r++}function u(t){delete s[t]}function d(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(a,i);break}}function f(t){if(n)setTimeout(f,0,t);else{var e=s[t];if(e){n=!0;try{d(e)}finally{u(t),n=!1}}}}function m(){i=function(t){e.nextTick(function(){f(t)})}}function v(){if(t.postMessage&&!t.importScripts){var e=!0,a=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=a,e}}function g(){var e="setImmediate$"+Math.random()+"$",a=function(a){a.source===t&&"string"===typeof a.data&&0===a.data.indexOf(e)&&f(+a.data.slice(e.length))};t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(a){t.postMessage(e+a,"*")}}function p(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)},i=function(e){t.port2.postMessage(e)}}function h(){var t=o.documentElement;i=function(e){var a=o.createElement("script");a.onreadystatechange=function(){f(e),a.onreadystatechange=null,t.removeChild(a),a=null},t.appendChild(a)}}function b(){i=function(t){setTimeout(f,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,a("c8ba"),a("4362"))},"789f":function(t,e,a){"use strict";var i=a("f0b1"),r=a.n(i),s={create:{name:r.a.string().min(2).required(),file:r.a.required(),action:r.a.any().valid(["exams","forum",""]).required(),criteria:r.a.string().required(),value:r.a.number().required()},update:{name:r.a.string().min(2),avatar:r.a.required(),action:r.a.any().valid(["exams","forum",""]),criteria:r.a.string(),value:r.a.number()}};e["a"]=s},d44d:function(t,e,a){}}]);
//# sourceMappingURL=badge-detail.7ade6df8.js.map